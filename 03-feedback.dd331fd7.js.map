{"mappings":"gfAAA,IA0BUA,EA1BVC,EAAAC,EAAA,SACMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,yBAC9BE,QAASH,SAASC,cAAc,8BAChCG,iBAAkB,wBAqBZT,EAAeU,KAAKC,MAAMC,aAAaC,QAAQV,EAAKM,sBAEtDK,QAAQC,IAAIf,GACZG,EAAKI,MAAMS,MACXb,EAAKK,QAAQQ,OApBrBb,EAAKC,KAAKa,iBACN,SACA,EAAAhB,EAAAiB,WAAS,SAAAC,GACL,IAAMC,EAAU,CAAEb,MAAOJ,EAAKI,MAAMS,MAAOR,QAASL,EAAKK,QAAQQ,OACjEJ,aAAaS,QAAQlB,EAAKM,iBAAkBC,KAAKY,UAAUF,GAC/D,GAAG,MAGPjB,EAAKC,KAAKa,iBAAiB,UAAU,SAAAE,GACjCA,EAAII,iBACJT,QAAQC,IAAI,CAAER,MAAOJ,EAAKI,MAAMS,MAAOR,QAASL,EAAKK,QAAQQ,QAC7Db,EAAKC,KAAKoB,QACVZ,aAAaa,WAAW,sBAC5B,IAYA,IASMC,EATc,SAAAC,GAClB,IACE,IAAMC,EAAkBhB,aAAaC,QAAQc,GAC7C,OAA2B,OAApBC,OAA2BC,EAAYnB,KAAKC,MAAMiB,EAG3D,CAFE,MAAOE,GACPhB,QAAQgB,MAAMA,EAAMtB,QACtB,CACF,CAEoBuB,CAAY5B,EAAKM,kBACjCiB,IACFvB,EAAKI,MAAMS,MAAQU,EAAYnB,MAC/BJ,EAAKK,QAAQQ,MAAQU,EAAYlB,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('input[name = \"email\"]'),\n    message: document.querySelector('textarea[name = \"message\"]'),\n    localStorage_key: 'feedback-form-state',\n}\n\npopulateTextarea();\n\nrefs.form.addEventListener(\n    'input', \n    throttle(evt => {\n        const toSaved = { email: refs.email.value, message: refs.message.value };\n        localStorage.setItem(refs.localStorage_key, JSON.stringify(toSaved));\n    }, 500)\n);\n\nrefs.form.addEventListener('submit', evt => {\n    evt.preventDefault();\n    console.log({ email: refs.email.value, message: refs.message.value });\n    refs.form.reset();\n    localStorage.removeItem('feedback-form-state');\n});\n\nfunction populateTextarea() {\n    const savedMessage = JSON.parse(localStorage.getItem(refs.localStorage_key))\n    if (savedMessage) {\n        console.log(savedMessage);\n        refs.email.value;\n        refs.message.value;\n\n    }\n}\n\nconst loadingForm = key => {\n  try {\n    const loadingFormItem = localStorage.getItem(key);\n    return loadingFormItem === null ? undefined : JSON.parse(loadingFormItem);\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst storageData = loadingForm(refs.localStorage_key);\nif (storageData) {\n  refs.email.value = storageData.email;\n  refs.message.value = storageData.message;\n}\n\n\n\n// const refs = {\n//     form: document.querySelector('.feedback-form'),\n//     email: document.querySelector('.feedback-form input'),\n//     textarea: document.querySelector('.feedback-form textarea'),\n// };\n\n// refs.form.addEventListener('submit', onFormSubmit);\n// refs.email.addEventListener('input', onEmail);\n// refs.textarea.addEventListener('input', onTextarea);\n\n// populateMassageOutput();\n\n\n// function onFormSubmit(evt) { \n//     evt.preventDefault();\n//     evt.currentTarget.reset()\n// }\n\n// function onEmail(evt) { }\n\n// function onTextarea(evt) {\n//     const message = evt.currentTarget.value;\n\n//     localStorage.setItem('feedback-msg', message);\n//  }\n\n// function populateMassageOutput() {\n//     const savedMessage = localStorage.getItem('feedback-msg');\n\n//     if (savedMessage) {\n//         console.log(savedMessage);\n//         refs.textarea.value = savedMessage;\n//     }\n// }\n \n\n\n\n\n"],"names":["savedMessage","$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","email","message","localStorage_key","JSON","parse","localStorage","getItem","console","log","value","addEventListener","throttle","evt","toSaved","setItem","stringify","preventDefault","reset","removeItem","$b00c40859be242c5$var$storageData","key","loadingFormItem","undefined","error","$b00c40859be242c5$var$loadingForm"],"version":3,"file":"03-feedback.dd331fd7.js.map"}