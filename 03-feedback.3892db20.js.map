{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,yBAC9BE,QAASH,SAASC,cAAc,8BAChCG,iBAAkB,wBAoBtB,WACI,MAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQX,EAAKM,mBACtDC,IACAK,QAAQC,IAAIN,GACZP,EAAKI,MAAMU,MACXd,EAAKK,QAAQS,MAGrB,CAzBAC,GAEAf,EAAKC,KAAKe,iBACN,SACA,EAAAlB,EAAAmB,WAASC,IACL,MAAMC,EAAU,CAAEf,MAAOJ,EAAKI,MAAMU,MAAOT,QAASL,EAAKK,QAAQS,OACjEJ,aAAaU,QAAQpB,EAAKM,iBAAkBE,KAAKa,UAAUF,GAAA,GAC5D,MAGPnB,EAAKC,KAAKe,iBAAiB,UAAUE,IACjCA,EAAII,iBACJV,QAAQC,IAAI,CAAET,MAAOJ,EAAKI,MAAMU,MAAOT,QAASL,EAAKK,QAAQS,QAC7Dd,EAAKC,KAAKsB,QACVb,aAAac,WAAW,0BAa5B,MASMC,EATc,CAAAC,IAClB,IACE,MAAMC,EAAkBjB,aAAaC,QAAQe,GAC7C,OAA2B,OAApBC,OAA2BC,EAAYpB,KAAKC,MAAMkB,EAG3D,CAFE,MAAOE,GACPjB,QAAQiB,MAAMA,EAAMxB,QACtB,GAGkByB,CAAY9B,EAAKM,kBACjCmB,IACFzB,EAAKI,MAAMU,MAAQW,EAAYrB,MAC/BJ,EAAKK,QAAQS,MAAQW,EAAYpB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('input[name = \"email\"]'),\n    message: document.querySelector('textarea[name = \"message\"]'),\n    localStorage_key: 'feedback-form-state',\n}\n\npopulateTextarea();\n\nrefs.form.addEventListener(\n    'input', \n    throttle(evt => {\n        const toSaved = { email: refs.email.value, message: refs.message.value };\n        localStorage.setItem(refs.localStorage_key, JSON.stringify(toSaved));\n    }, 500)\n);\n\nrefs.form.addEventListener('submit', evt => {\n    evt.preventDefault();\n    console.log({ email: refs.email.value, message: refs.message.value });\n    refs.form.reset();\n    localStorage.removeItem('feedback-form-state');\n});\n\nfunction populateTextarea() {\n    const savedMessage = JSON.parse(localStorage.getItem(refs.localStorage_key))\n    if (savedMessage) {\n        console.log(savedMessage);\n        refs.email.value;\n        refs.message.value;\n\n    }\n}\n\nconst loadingForm = key => {\n  try {\n    const loadingFormItem = localStorage.getItem(key);\n    return loadingFormItem === null ? undefined : JSON.parse(loadingFormItem);\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst storageData = loadingForm(refs.localStorage_key);\nif (storageData) {\n  refs.email.value = storageData.email;\n  refs.message.value = storageData.message;\n}\n\n\n\n// const refs = {\n//     form: document.querySelector('.feedback-form'),\n//     email: document.querySelector('.feedback-form input'),\n//     textarea: document.querySelector('.feedback-form textarea'),\n// };\n\n// refs.form.addEventListener('submit', onFormSubmit);\n// refs.email.addEventListener('input', onEmail);\n// refs.textarea.addEventListener('input', onTextarea);\n\n// populateMassageOutput();\n\n\n// function onFormSubmit(evt) { \n//     evt.preventDefault();\n//     evt.currentTarget.reset()\n// }\n\n// function onEmail(evt) { }\n\n// function onTextarea(evt) {\n//     const message = evt.currentTarget.value;\n\n//     localStorage.setItem('feedback-msg', message);\n//  }\n\n// function populateMassageOutput() {\n//     const savedMessage = localStorage.getItem('feedback-msg');\n\n//     if (savedMessage) {\n//         console.log(savedMessage);\n//         refs.textarea.value = savedMessage;\n//     }\n// }\n \n\n\n\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","email","message","localStorage_key","savedMessage","JSON","parse","localStorage","getItem","console","log","value","$945622fd0f572e60$var$populateTextarea","addEventListener","throttle","evt","toSaved","setItem","stringify","preventDefault","reset","removeItem","$945622fd0f572e60$var$storageData","key","loadingFormItem","undefined","error","$945622fd0f572e60$var$loadingForm"],"version":3,"file":"03-feedback.3892db20.js.map"}